# Extracted from https://g-otkk6267-helm.pkg.coding.net/Charts/safeline (safeline-5.2.0.tgz)

nameOverride: ""
fullnameOverride: ""

imagePullSecrets: []
imagePullPolicy: IfNotPresent

global:
  image:
    registry: ""   ## previous: swr.cn-east-3.myhuaweicloud.com/chaitin-safeline
    tag: ""    ## previous: empty

strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 0

persistence:
  enabled: true
  resourcePolicy: "keep"
  persistentVolumeClaim:
    database:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteOnce
      size: 1Gi
      annotations: {}

    logs:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    nginx:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    mgt:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    detector:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    mario:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    tengine:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    luigi:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

    bridge:
      existingClaim: ""
      storageClass: ""
      accessMode: ReadWriteMany
      size: 1Gi
      annotations: {}

database:
  type: internal
  internal:
    serviceAccountName: ""
    automountServiceAccountToken: false
    image:
      registry: 'cgr.dev/chainguard'    ## previous: empty
      repository: postgres
      tag: 'latest'     ## previous: 15.2
    password: changeit
    shmSizeLimit: 512Mi
    resources:
    #  requests:
    #    memory: 256Mi
    #    cpu: 100m
    livenessProbe:
      timeoutSeconds: 1
    readinessProbe:
      timeoutSeconds: 1
    nodeSelector: {}
    tolerations: []
    affinity: {}
    priorityClassName:
    initContainer:
      migrator: {}
      # resources:
      #  requests:
      #    memory: 128Mi
      #    cpu: 100m
      permissions: {}
      # resources:
      #  requests:
      #    memory: 128Mi
      #    cpu: 100m
  external:
    host: ""
    port: ""
    username: ""
    password: ""
    coreDatabase: "safeline-ce"
    dbname: "safeline-ce"
    existingSecret: ""
    sslmode: "disable"
  maxIdleConns: 100
  maxOpenConns: 900
  podAnnotations: {}

mgt:
  image:
    registry: docker.io/chaitin    ## previous: empty
    repository: safeline-mgt
    tag: ''    ## previous: empty
  service:
    type: NodePort
    web:
      nodePort: 31443
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 

fvm:
  image:
    registry: docker.io/chaitin    ## previous: empty
    repository: safeline-fvm
    tag: ''    ## previous: empty
  service:
    type: ClusterIP
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 


detector:
  image:
    registry: docker.io/chaitin    ## previous: uhub.service.ucloud.cn/silkdo/chaitin
    repository: safeline-detector
    tag: ''    ## previous: empty
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 

mario:
  image:
    registry: docker.io/chaitin    ## previous: empty
    repository: safeline-mario
    tag: ''    ## previous: empty
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 

tengine:
  image:
    registry: docker.io/chaitin    ## previous: uhub.service.ucloud.cn/silkdo/chaitin
    repository: safeline-tengine
    tag: ''    ## previous: empty
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 

luigi:
  image:
    registry: docker.io/chaitin    ## previous: empty
    repository: safeline-luigi
    tag: ''    ## previous: empty
  service:
    type: ClusterIP
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 

bridge:
  image:
    registry: docker.io/chaitin    ## previous: empty
    repository: safeline-bridge
    tag: ''    ## previous: empty
  service:
    type: ClusterIP
  resources:
  #   limits:
  #     cpu: 1000m
  #     memory: 1000Mi
  #   requests:
  #     cpu: 100m
  #     memory: 100Mi
  podAnnotations: {}
  serviceAccountName: ""
  automountServiceAccountToken: false
  replicas: 1
  revisionHistoryLimit: 10
  startupProbe:
    enabled: false
    initialDelaySeconds: 10
  nodeSelector: {}
  affinity: {}
  tolerations: []
  priorityClassName: 
